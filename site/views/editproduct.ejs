<!DOCTYPE html>
<html lang="en">
    <!-- Redirect, cambiar del home para el detalle de productos
    Ajustar estilos:
        - Mobile format: títulos arriba de inputs
        - Wide: dos columnas para foto y botones izquierda y datos a la derecha
    Cambiar la ruta para buscar y guardar las imagenes
    configurar la edición de files con multer -->
<head>
    <meta charset="UTF-8">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title> <%= title %></title>
    <link
    rel="stylesheet"
    href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
    integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p"
    crossorigin="anonymous"
    >
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/header.css">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
</head>
<body>
    <%- include('partials/header.ejs')%>
    <div id="main" class="col-12 row-md mt-3">
        <form method="POST" class="">
            <div class=" text-center col-md-6">
                <img src="/images/<%=prod.image%>" class="rounded mx-auto d-block img-fluid img-thumbnail" alt="No Image">
                <input type="file" id="imageEdit" class="form-control-file" data-default-file="" data-height="500">
            </div>
            <div class="col-12 col-md">
                <% for (let prop in prod) { %>
                    <div class="form-group">
                        <% if(prop == 'id' || prop == 'image'){ %>
                            <span class="input-group-text form-text text-muted text-capitalize"><%= `${prop}: ${prod[prop]}` %></span>
                            <input type="hidden" name="<%= prop %>" value="<%= prod[prop] %>">
                        <% } else if(prop != 'id' && prop != 'image' ){ %>
                            <div class="input-group mb-3 mb-auto ml-auto">
                                <span class="input-group-text form-text text-muted text-capitalize"><%= `${prop}:` %></span>
                                <input name="<%= prop %>" type="text" class="form-control">
                            </div>
                            <smal class="form-text text-muted text-capitalize mt-auto mb-3"><%= `${prod[prop]}` %></smal>
                        <% }; %>
                    </div>
                <% }; %>
            <div class="form-actions btn-flex mt-3 text-center ">
                <input type="submit" value="Editar" formaction="/products/<%= prod.id %>/edit?_method=PUT" class="btn btn-primary btn-lg col-5">
                <input type="submit" value="Eliminar" formaction="/products/<%= prod.id %>/delete?_method=DELETE" class="btn btn-danger btn-lg col-5">
            </div>
        </div>
        </form>
    </div>

            

</body>
</html>